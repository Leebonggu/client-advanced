# 시맨틱 태그와 웹 접근성

사지멀쩡한 사람만을 위하지 않는 UI/UX  
내가 채울 데이터를 모든 감각에서 가장 잘 설명하고 나타내는 요소는 무엇일가?

## 웹 접근성
### 웹 접근성이란?

- 웹사이트에서 제공하는 정보를 차별 및 제한 없이 동등하게 이용할 수 있도록 보장하는 것
  - 대상의 관점 : 장애인, 고령자를 포함한 모든 사람
  - 기기 관점 : 다양한 플랫폼 및 장치, 웹 브라우저 등의 모든 환경
- 웹은 원래부터 사용자의 환경이나 사용하는 기기, 운영체제에 가능한 영향을 받지 않고 웹이 제공하는 정보를 사용자에게 전달하고자 하는 목적에서 만들어진 정보 제공 체계이다.
  - 이런 철학 때문에 웹 접근성은 새롭게 등장한 것이 아니라 웹 자체가 당연히 가져야할 개념이다.
  - 현재 노인이나 장애인, 사회적 약자들은 정보화의 혜택이 가장 필요한 계층임에도 불구하고 웹 접근성 수준을 보장하지 못하는 국내 웹 환경으로 인해 소외되고 있다.
- 웹 접근성은 장애인만을 위한 것이 아니다.
  - 여러 다른 디바이스를 이용하는 사람
  - 노인이라 기능적 능력이 연로한 사람
  - 일시적인 장애를 겪는 사람 - 팔이 부러진다거나..
  - 밝은 햇빛, 소리를 듣기 힘든 환경에 있어 상황적 제약을 겪는 사람
  - 느린 인터넷을 사용하거나, 비싼 대역폭을 이용하는 사람

### 웹 콘텐츠 접근성 지침

W3C 웹 표준화 기구에서 내놓은 웹 접근성을 위한 지침
- 인지성 : 정보와 사용자 인터페이스 요소는 그들이 인지할 수 있도록 사용자에게 표시될 수 있어야 함. 모든 텍스트가 아닌 콘텐츠에 **대체 텍스트**를 사람들이 원하는 인쇄, 점자, 음성, 기호 또는 간단 언어 등과 같은 형태로 제공해야 한다.
- 운용성 : 사용자 인터페이스 요소와 탐색은 운용 가능해야함. **키보드로 모든 기능을 사용할 수 있어야 한다.** 읽기 콘텐츠를 사용하는 사용자에게 충분한 시간을 제공해야 함. 알려진 방법으로 발작을 일으킬 수 있는 콘텐츠를 디자인하지 않아야 한다.(광과민성 발작)
- 이해성 : 정보와 사용자 인터페이스 운용은 이해할 수 있어야 한다. 텍스트 콘텐츠를 판단하고 이해할 수 있도록 만들어야 한다. 웹 페이지의 탑재와 운용을 예측 가능한 방법으로 제작해야 한다. **사용자의 실수를 방지하고 수정할 수 있도록 도와야 한다.**
- 견고성 : 콘텐츠는 보조 기술을 포함한 넓고 다양한 사용자 에이전트에 의존하여 해석될 수 있도록 충분히 내구성을 가져야 한다.

### 법적 효력

한국에서는 `장애인 차별 금지 및 권리 구제등에 관한 법률`이 웹 접근성과 관련하여 법적 효력을 발생시킬 수 있는데, 웹 사이트 접근이 용이하지 않다고 판단할 경우 인권위에 진정서를 제출하여 접근성을 개선하도록 요구할 수 있는 법적 환경이 조성되어 있다. 2013년부터 공공기관 말고 모든 법인으로 단계별 확대 적용되어 의무적으로 웹 접근성을 준수해야 한다.

## 웹 표준

- 웹에서 표준적으로 사용되는 기술이나 규칙을 의미 - 웹에서의 표준은 W3C의 토론을 통해 나온 권고안을 말하며, 권고안 이외 단계 수준의 스펙은 비표준이거나 독자확장 요소를 의미하기 때문에 구분하여 사용해야 함.
  - 과거 IE의 bgsound 등은 자사 브라우저의 우수성을 홍보하기 위한 요소, 웹표준 권고안에는 없음. 다른 브라우저에서 잘 표시되지 않기도
  - 전반적으로 **기기간 호환성**을 보장하기 위한 시도로, 비표준 요소나 독자 확장 요소를 배제하고 최대한 W3C의 웹 표준 권고안을 준수하여 웹을 구현해야 한다
  - 통신은 표준이 중요하기 때문에 어디서 누가 뭐로보든 같은 정보를 얻을 수 있도록 하는데 그 목적이 있다. 웹 표준을 준수하면 웹 접근성도 덩달아 상승한다.

### 웹 표준 기술 

- 구조언어 HTML5 
- 표현언어 CSS 
- 동작 및 제어를 위한 DOM과 ECMA Script

### 웹 표준을 준수한다는 것 - 대표적인 체크리스트

#### 코드 품질

- HTML에 올바른 DocType을 표시했는가?
- 적절한 charset, 인코딩 방법을 표시했는가? `<meta charset="utf-8"/>`
- 문법 오류가 없는 Valid한 HTML을 사용하는가?
- 문법 오류가 없는 Valid한 CSS를 사용하는가?
- HTML과 CSS에 사용하지 않는 ID나 Class 선택자가 있는가? - 의미없는 HTML과 CSS를 만듬
- 구조화가 잘 되었는가? - 시맨틱 마크업을 사용하는가?
- 접속할 수 없는 링크가 있는가?
- 충분한 성능이 나오는가?
- 자바스크립트 에러가 노출되는가? - IE에서 Disable Script Debugging

#### 컨텐츠와 스타일의 분리

- 모든 요소에 CSS를 사용하고있나? - 그래야 UI가 안 깨질 것이다
#### 유저 접근성

- 모든 이미지에 alt 태그로 대체 텍스트가 제공되는가?
- 사이트가 절대 단위(px같은거) 말고 상대 단위(%)를 쓰는가?
- 폰트가 커져서 UI 레이아웃이 막 깨져버리지는 않는가?
- 유용하고 풍부한 시각적 네비게이션 수단을 제공하고 있나? - 뒤로가기 앞으로가기밖에 없으면 에바
- 폼의 접근성이 보장되어 있는가
  - 전맹 사용자가 가장 어려워하는 부분
  - label 태그 사용하기
  - fieldset과 legend
  - optgroup
  - 키보드 폼 접근을 위한 accesskey와 tabindex 속성
- 테이블의 접근성이 보장되어 있는가 : TD와 TH를 같이써서 구분하여 테이블을 정의하라는 말
- 명도와 채도는 괜찮은지?
- 중요한 정보를 다른 색깔로 강조하고 있는가?
- 드랍다운 메뉴가 너무 빠르게 나오지는 않는가?
- 모든 링크가 설명이 잘 되어있나? (click here 말고 클릭했을때 접할 수 있는 정보를 설명)

#### 기기의 접근성

- 옛날, 오늘날 브라우저에서 모두 잘 작동하는가? (음....)
- 어떤 사람들은 CSS 지원이 안되는 채로 웹사이트를 볼 수도 있는데 문제가 없는가?
- 이미지가 안 보여도 웹 맥락 이해하는데 문제가 없는가?
- 이미지랑 CSS가 다 안되도 맥락이 이해되는가(음...) http://www.delorie.com/web/lynxview
- 프린트했을 때 잘 보이는가?
- 휴대용 기기에서 웹이 잘 보이는가?
- 상세한 메타데이터가 HTML에 기재되어 있는가? - 메타데이터는 machine understandable한 정보다
- 브라우저의 모든 윈도우 사이즈에서 작동이 잘 되는가?

#### 사용성

- 레이아웃이 식별 가능한 구조의 체계를 가지고 있는지?
- 헤더를 잘 인식할 수 있는지?
- 사이트의 네비게이션이 이해하기 쉬운지?
- 사이트의 네비게이션이 잘 유지가 되는지? - 사이트의 각 페이지들이 비슷한 디자인을 유지하면 비지터는 네비게이션이 쉽고 정보를 쉽게 찾을 수 있을 것
- 적절한 언어로 되어있는지?
- 사이트맵과 contact가 있는지?
- 큰 사이트일때 검색할 수 있는 방법이 있는지

## 시맨틱 태그, 시맨틱 마크업

### 시맨틱 태그는 왜 쓰나

- SEO : 검색 엔진은 의미론적 마크업을 검색 랭킹에 영향을 줄 수 있는 중요한 키워드로 강조
- 가독성, 유지보수의 이점(커뮤니케이션 비용 줄임)
- 웹 접근성 : 브라우저가 태그를 바탕으로 관련 정보들을 파악할 수 있게
  - 시각 장애가 있는 사용자가 화면 판독기로 페이지를 탐색할때 의미론적 마크업들을 푯말로 사용할 수 있다

### 주요 HTML5 시맨틱 태그

- header : 소개 및 탐색에 도움을 주는 콘텐츠를 나타냅니다.
- footer : 가장 가까운 구획 콘텐츠나 구획 루트의 푸터
  - header와 footer는 서로의 자손이 될 수 없음
- nav : 메뉴, 목차, 색인
- main : 주요 본문. body의 주요 콘텐츠. 문서의 핵심 주제나 앱의 핵심 기능에 직접적으로 연결되었거나 확장하는 컨텐츠. 문서에 하나보다 많은 main요소가 존재하면 안된단다. 페이지의 개념적 구조를 바꾸지 않으며 온전히 정보 제공. header와 footer을 포함하지 않음
  - article : main내부의 독립적인 내용들. 페이지, 애플리케이션, 또는 사이트 안에서 독립적으로 구분해 배포하거나 **재사용**할 수 있는 구획.사용 예제로 게시판과 블로그 글, 매거진이나 뉴스 기사. section이 구획이라면 얘는 실제 내용
    - article 안에 section을 넣는것도 가능
  - section : HTML 문서의 독립적인 구획을 나타내며, 더 적합한 의미를 가진 요소가 없을 때 사용. 컨텐츠를 묶을 때 사용 일반 컨테이너로써는 div를 사용하는게 더 낫고, 문서 요약에 해당 구획이 논리적으로 나타나야 하면? section을 쓰기 괜찮다. 또다른 섹션 태그를 자손으로 가질 수 있다
    - section 요소는 레이아웃 관점에서 열이나 행을 구분하기 위해 사용해서는 안됨
    - h1~h6의 제목이랑 같이 쓰는게 권장된다. 눈에 보이는 디자인에 없어도 hidden으로 만들어주면 접근은 가능하게 된다
- aside : 문서의 주요 내용과 간접적으로만 연관된 부분. 주로 사이드바 혹은 콜아웃 박스로 표현
- details : 드랍다운 아코디언? 열림 상태일때만 내부 정보를 보여주는 정보 공개 위젯. details요소의 첫번째 자식이 summary 요소라면, 레이블로 사용. toogle 이벤트를 지원. 이런것도 있었구나...
  - summary : details 요소의 레이블
- mark : 하이라이트. 형광펜
- div는 그러면 언제 쓰나 : 주로 컨텐츠를 묶어서 시각적 효과를 적용할 때 필요. 얘는 그냥 별다른 의미가 없어야댐
- h1~h6 : 글씨 크기를 위해서 사용하지 말아라

### 목록

- ol : 순서가 있는 목록, 디폴트로 숫자가 붙음 - li
- ul : 순서가 없는 목록, 디폴트로 bullet이 붙음 - li
- dl : dt, dd로 해당하는 설명 목록 표현 가능, 설명을 포함

### 웹 접근성에서의 활용

- nav : 스크린 리더 등 장애를 가진 사용자를 위한 사용자 에이전트는 최초 렌더링에서 탐색 전용 콘텐츠를 제외할지 결정할 때 `<nav>`를 참고
- img : 대체 텍스트(alt)를 제공하면 전맹 사용자에게 음성 해설을 제공할 수 있음. 의미없이 채워넣거나 하기 보단 시각적 의도와 동등한 내용을 전달해야함
- title : 모든 문서의 제목을 고유하고 식별할 수 있는 것으로 만들기. 전맹 사용자가 링크 이동 결과를 음성으로 확인할 수 있고 SEO에도 당연히 도움이 된다
- **section에 heading 설정** : 검색엔진에 더 많은 정보를 제공할 수 있고, 유저 에이전트 확장 기기 사용자에게 문서 개요를 전달할 수 있음. 보조기기 사용자가 원하는 탐색 지점으로 빠르게 건너뛰는게 가능
  - 시각장애인 사용자가 스크린 리더를 사용할때 섹션의 헤딩 정보를 읽어주는데, 이때 **헤딩 간을 +키로 이동하며** 제목을 탐색함
  - 전맹 사용자는 section간을 **순차적으로** 접근한다.
  - 여기서 섹션 컨텐츠는 article, section, nav, aside를 포함
  - CSS로 시각적 요소가 필요 없을때는 숨기는게 가능하다
- form : label 혹은 title을 통해 form 컨트롤 요소에 적합한 설명을 제공한다. 보조기기가 독립적으로 접근했을 때 컨트롤에 대한 설명을 제공할 수 있다.
- 스크린 리더에게 정보를 주는 방식
  - 이텔릭
    - em : 스크린 리더가 강세를 가지고 말함
    - i : 시각적으로만 이텔릭
  - 볼드
    - strong : 스크린 리더가 강세를 가지고 말함
    - b : 시각적으로만 볼드

## 스크린 리더

- 움직이는 단위 : 요소
- 웹에서는 탭키로 주로 움직임
- 모바일에서는 좌우 스와이프, 터치 영역에 있는 요소 선택, 로터를 이용한 탐색(머리말, 단어, 글자 단위)
- element의 구조 hierachy를 순차로 탐색하여 읽어줌

### 웹 스크린 리더 동작

### 스크린 리더의 동작에 도움이 되는 마크업
#### Accessible Name

스크린리더가 요소를 포커스할 때 읽는 값

- author : 특별한 속성 - aria-label, aria-labelledby, alt(img)
- contents : 요소의 텍스트 값
- 우선순위는 author > contents

#### Role

스크린 리더가 요소를 어떤 방식으로 다룰지 결정. Role마다 기대되는 스크린리더 동작이 있음

- role = button : 요소의 Accessible Name을 읽은 뒤 "버튼"을 붙여 읽음
- 자식 요소의 Accessible Name을 모아 contents로 사용
- Semantic Tag : 시맨틱 태그들은 암시적으로 Role을 가지고 있음(button, link, checkbox)
- 적절한 시맨틱 태그 사용은 스크린 리더에게 이로움

##### 알면 좋은 Role들

#### Children Presentational

```html
<div role="button">
  <span>span1</span>
  <span>span2</span>
  <span>span3</span>
</div>
```
- span1 -> span2 -> span3 -> button
- 특정 Role이 가진 방식으로, 자식 요소의 Accesible Name을 모아 요소의 contents로 사용, 자식 요소를 스크린리더가 읽지 않도록 만듬
- 시각 사용자가 묶어서 이해하는 정보를 스크린리더가 끊어 읽는 문제를 해결할 때 유용

#### `<img>`와 alt

- 시각에 어려움이 있는 경우 이미지를 이해할 수 없음
- 이미지가 전달하는 정보를 alt에 명시해서 스크린리더가 읽을 수 있게 해야함
- alt는 author을 정하는 속성
- alt에 빈값을 주면 스크린리더가 읽지 않는다. 중요하지 않은 배경화면과 같은 경우는 alt에 빈 값을 줘야 한다.
- alt를 명시하지 않으면 src를 읽는다(ㅋㅋ...)

### contents를 그러면 어떻게 설정해야 하는가?

#### 정체를 알 수 없는 버튼

버튼을 걍 버튼이라고 읽으면..? 무슨 기능을 하는 버튼인지 알 수 없음

```html
<button>
  <img src="/logo.png" alt="내 포인트 내역으로 이동">
</button>
```

- 어디로 이동, 어디로 간다 - 버튼의 효용, 목적이 뭔지 표현하기
- 위와 같은 경우일때 "내 포인트 내역으로 이동 - 버튼" 이렇게 읽는다

#### 대체 텍스트가 없는 이미지

- alt가 없으면 src를 읽는다(이거 진짜 개에바겠다)
- 중요하지 않은 이미지에는 alt에 빈값을 준다

#### 버튼일수도 있고 아닐수도 있음

- 버튼 밑의 요소가 하나의 정보를 끊어읽는 경우가 있음 => children presentation

#### 선택, 취소 카드

앱의 상태

- 뭔가를 목록에서 선택하고 취소하는 경우
- 선택된 상태인지 모름
- role=checkbox : aria-checked와 함께 사용하면 선택 되었는지 아닌지도 읽어줌
- 체크상자 선택됨

#### 다가갈 수 없는 바텀시트

UI의 동작, 변화도 "읽어질 수 있어야 함"

- 버튼을 눌렀을 때 바텀시트가 올라온다면 인터랙션을 확인할 수 없기 때문에 아무 일도 안 일어나는 것으로 이해함
- role=dialog : 사용자가 상호작용할 수 있는 대화상자. 
- aria-modla=true : 스크린 리더가 dialog 밖의 요소에 포커스할 수 없게 만드는 속성. UI가 바뀌었을 때 바뀐 UI에 포커스해서 읽게 됨
- 스크린리더가 구현하지 않는 경우가 있어 직접 구현해야 할 수도 있다 - 모달 다이얼로그가 열렸을 때 다른 곳으로 포커스할 수 없게 만들어야 한다. => dialog외의 모든 요소에 aria-hidden 주기
- aria-hidden : 스크린리더가 해당 요소와 자식을 읽지 않게 됨
- 뭔가가 떴구나를 인지하게 되고 스와이프 해봄

#### 소리없는 토스트, 알람

등장해서 인터렉션하는 알림 UI의 동작을 소리로 표현

- role="alert" : 요소가 DOM에 추가되었거나 자식에 변경사항이 생겼을 경우 읽어줌

#### 궁금한거

- 라이브러리로 UI를 쓸 경우에 그 UI가 웹 접근성이 준수되지 않았을 경우(가 대부분이겠지) 래핑하는 방식으로 뭔가를 읽어줄 수 있으면 좋겠다
- 선택하는거 말고 입력하는 form 인터랙션 - 전맹 사용자가 정말 쓰기 어려울 것 같다
- 파일 업로드 이런거는 어떻게 쓸까
- 즐겨찾기 링크
## reference

- [레진코믹스 웹 접근성 가이드라인](https://tech.lezhin.com/2017/08/02/accessibility)
- [웹 접근성과 웹 표준](https://seulbinim.github.io/WSA/)
- https://www.w3.org/TR/wai-aria-practices-1.1/
- https://www.w3.org/TR/wai-aria-1.2/#usage
